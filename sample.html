<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>ESC-Chatbot (Sample)</title>
</head>

<body>
    <section id="draggable-bot">
        <link rel="stylesheet" href="style.css" />
        <script src="https://unpkg.com/requirejs/require.js"></script>
        <script src="script.js"></script>
        <div id="bot"></div>

        <script>
            let user_id = uuid(); // Obtain a user id from somewhere .. here generate unique uuid ..
            let botConfig = Object.freeze({
                "user_id": user_id, // The ID of the user .. can also set via #ChangeUserId(id)
                "message_backend": "/api/messages", // The bot backend url (with "/api/messages") . may be relative or absolute
                "reply_to": document.baseURI, // The Reply to URL for the Backend. Iff you are using the Chatbot Framework of the ESC this might be the Bot itself.
                "receiver_hub": "/receiverhub", // The Location of the SignalR receiverhub for registration (this might be the chatbot backend itself iff you are using the ESC Chatbot Framework)
                "bot_title": "ESC-Chatbot (Sample)", // The title in the Chatbot Box
                "bot_avatar": "/bot_avatar.png", // Path to the Avatar Image of the Chatbot           
                "bot_avatar_alt": "ESC", // The alternative (text) for the Chatbot Avatar (iff no avatar possible, this text will be used)
                "host": window.location.href, // The Host of this Bot. Will be used as ChannelID
                "use_cookie": false // Indicates whether data like conversation id shall be stored in a domain cookie or in the session store
            });
            InitBot(botConfig, document.getElementById("bot")); // Create the bot and map them to <.. id=bot>-Element on the Page
        </script>
    </section>
    <section id="chatCtrl">
        <button id="collapsebtn" onclick="OpenCloseChat();"><img id="opencloseimg" src="/chat.png" /><span
                id="help"></span></button>
        <script>
            let help = document.getElementById("help");
            if (!Number(sessionStorage.getItem("open"))) {
                help.innerHTML = "Do you need help?";
            } else {
                help.innerHTML = "Minimize chat";
            }
        </script>
    </section>
</body>

</html>